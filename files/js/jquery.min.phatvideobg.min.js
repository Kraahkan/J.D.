!function(){function g(u,k,v){("absolute"!==u.css("position")||"relative"!==u.css("position"))&&u.css({position:"relative"}),u.css("background","none"),u.append('<div class="phat-bgvideo-container" style="position:absolute;width:100%;height:100%;top:0;left:0;z-index:-2;overflow:hidden;"></div>');var l=u.find(".phat-bgvideo-container");switch(k.phatposter&&l.css({background:"url("+k.phatposter+") center center","background-size":"cover"}),l.prepend('<div class="phat-bgvideo-overlay" style="position:absolute;width:100%;height:100%;top:0;left:0;z-index:1;"></div>'),k.phatoverlaycolor?l.find(".phat-bgvideo-overlay").css({background:k.phatoverlaycolor,opacity:k.phatoverlayopacity}):l.find(".phat-bgvideo-overlay").css({background:"transparent"}),k.phattype){case"youtube":var q="loop=0";(k.phatloop||"true"===k.phatloop)&&(q="loop=1&playlist="+k.phatvideoid);var w="";(k.phatmute||"true"===k.phatmute)&&(w=" youtube-muted");var t="autoplay=1";(k.phatplayonhover||"true"===k.phatplayonhover)&&(t="autoplay=0");var m='<iframe id="bgvid-'+v+'" class="video-background'+w+'" style="width:100%;height:100%;" src="https://www.youtube.com/embed/'+k.phatvideoid+"?"+t+"&amp;controls=0&amp;"+q+'&amp;showinfo=0&amp;modestbranding=1&amp;disablekb=1&amp;enablejsapi=1" frameborder="0"></iframe>';break;case"vimeo":var q="loop=0";(k.phatloop||"true"===k.phatloop)&&(q="loop=1");var w="";(k.phatmute||"true"===k.phatmute)&&(w=" vimeo-muted");var t="autoplay=1";(k.phatplayonhover||"true"===k.phatplayonhover)&&(t="autoplay=0");var m='<iframe id="bgvid-'+v+'" class="video-background'+w+'" style="width:100%;height:100%;" src="https://player.vimeo.com/video/'+k.phatvideoid+"?api=1&"+q+"&"+t+"&player_id=bgvid-"+v+'"></iframe>';break;case"html5":var q="";(k.phatloop||"true"===k.phatloop)&&(q=' loop="true"');var w="";(k.phatmute||"true"===k.phatmute)&&(w=' muted="muted"');var t='autoplay="autoplay"';(k.phatplayonhover||"true"===k.phatplayonhover)&&(t="");var m='<video style="object-fit:cover;width:101%;height:101%;" class="video-background" preload="auto" '+t+q+w+">";k.phatmp4&&(m+='<source src="'+k.phatmp4+'" type="video/mp4" />'),k.phatwebm&&(m+='<source src="'+k.phatwebm+'" type="video/webm" />'),k.phatogv&&(m+='<source src="'+k.phatogv+'" type="video/ogg" />'),m+="</video>"}jQuery(window).width()>1024&&(k.phatmute&&"false"!=k.phatmute||u.append('<a href="#" id="mute-video-'+v+'" class="mute-video mute-'+k.phattype+'" data-rel="bgvid-'+v+'" style="position:absolute;bottom:15px;left:15px;">Sound</a>'),l.prepend(m),("youtube"===k.phattype||"vimeo"===k.phattype)&&d(u,k.phatratio,k.phattype))}function d(x,B,z){var m=x.find(".phat-bgvideo-container").width(),v=x.find(".phat-bgvideo-container").height(),k=m/v,q=16,l=9;"4/3"===B&&(q=4,l=3),"21/9"===B&&(q=21,l=9);var C=q/l;if(k>C){var y=k/C,A=1.05*parseInt(y*v,10)+300,w=1.05*parseInt(m);x.find("iframe.video-background").css({width:parseInt(w)+"px",height:parseInt(A)+"px",position:"relative",top:"50%",left:"50%","-webkit-transform":"translateX(-50%) translateY(-50%)","-moz-transform":"translateX(-50%) translateY(-50%)","-ms-transform":"translateX(-50%) translateY(-50%)","-o-transform":"translateX(-50%) translateY(-50%)",transform:"translateX(-50%) translateY(-50%)"})}else{var y=C/k,w=1.05*parseInt(y*m,10),A=1.05*parseInt(v)+300;x.find("iframe.video-background").css({height:parseInt(A)+"px",width:parseInt(w)+"px",position:"relative",top:"50%",left:"50%","-webkit-transform":"translateX(-50%) translateY(-50%)","-moz-transform":"translateX(-50%) translateY(-50%)","-ms-transform":"translateX(-50%) translateY(-50%)","-o-transform":"translateX(-50%) translateY(-50%)",transform:"translateX(-50%) translateY(-50%)"})}}function b(i){var a=new YT.Player("bgvid-"+i,{events:{onReady:function(){jQuery("#bgvid-"+i).hasClass("youtube-muted")&&a.mute(),jQuery("body").on("click","#mute-video-"+i+".mute-video",function(){a.isMuted()?a.unMute():a.mute()}),jQuery(".play-on-hover.videobg-id-"+i).on({mouseenter:function(){a.playVideo()},mouseleave:function(){a.pauseVideo()}})}}})}function h(l){var k=document.getElementById("bgvid-"+l),i=$f(k);i.addEvent("ready",function(){setTimeout(function(){i.api("play")},500),jQuery(".videobg-id-"+l).hasClass("play-on-hover")&&setTimeout(function(){i.api("pause")},700),jQuery("#bgvid-"+l).hasClass("vimeo-muted")&&i.api("setVolume",0),jQuery(".play-on-hover.videobg-id-"+l).on({mouseenter:function(){i.api("play")},mouseleave:function(){i.api("pause")}})})}var c=document.getElementsByTagName("script")[0],f=document.createElement("script");f.src="https://www.youtube.com/iframe_api",c.parentNode.insertBefore(f,c);var j=document.createElement("script");j.src="https://f.vimeocdn.com/js/froogaloop2.min.js",c.parentNode.insertBefore(j,c),function(a){a.fn.extend({phatVideoBg:function(e){return this.each(function(k){var m=jQuery(this),l={phattype:!1,phatvideoid:!1,phatmp4:!1,phatwebm:!1,phatogv:!1,phatratio:"16/9",phatloop:!0,phatposter:!1,phatoverlaycolor:!1,phatoverlayopacity:0.6,phatmute:!0,phatplayonhover:!1},i=a.extend({},l,e,m.data());m.hasClass("phatvideo-bg")||(m.addClass("phatvideo-bg"),g(m,i,k),"youtube"===i.phattype&&jQuery(window).width()>1024&&b(k),"vimeo"===i.phattype&&jQuery(window).width()>1024&&h(k),i.phatplayonhover&&m.addClass("play-on-hover"),m.addClass("videobg-id-"+k))})}})}(jQuery),jQuery("body").on("click",".mute-video",function(){if(jQuery(this).hasClass("mute-html5")){var l=jQuery(this).siblings(".phat-bgvideo-container").find("video");0==l.prop("muted")?l.prop("muted",!0):l.prop("muted",!1)}else{if(jQuery(this).hasClass("mute-vimeo")){var k=jQuery(this).data("rel"),i=document.getElementById(k),m=$f(i);jQuery(this).hasClass("unmute")?m.api("setVolume",1):m.api("setVolume",0)}}return jQuery(this).toggleClass("unmute"),!1}),jQuery("body").on("mouseenter",".videobg-section.play-on-hover",function(){if(jQuery(this).find(".phat-bgvideo-container > video").length>0){var a=jQuery(this).find(".phat-bgvideo-container > video");jQuery(a)[0].play()}}).on("mouseleave",".videobg-section.play-on-hover",function(){if(jQuery(this).find(".phat-bgvideo-container > video").length>0){var a=jQuery(this).find(".phat-bgvideo-container > video");jQuery(a)[0].pause()}})}(jQuery);