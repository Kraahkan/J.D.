!function(){var a=jQuery.fn.revolution;jQuery.extend(!0,a,{stopKenBurn:function(b){void 0!=b.data("kbtl")&&b.data("kbtl").pause()},startKenBurn:function(C,x,B){var f=C.data(),m=C.find(".defaultimg"),D=m.data("lazyload")||m.data("src"),u=(f.owidth/f.oheight,"carousel"===x.sliderType?x.carousel.slide_width:x.ul.width()),k=x.ul.height();C.data("kbtl")&&C.data("kbtl").kill(),B=B||0,0==C.find(".tp-kbimg").length&&(C.append('<div class="tp-kbimg-wrap" style="z-index:2;width:100%;height:100%;top:0px;left:0px;position:absolute;"><img class="tp-kbimg" src="'+D+'" style="position:absolute;" width="'+f.owidth+'" height="'+f.oheight+'"></div>'),C.data("kenburn",C.find(".tp-kbimg")));var y=function(L,I,K,b,E,M,G){var g=L*K,J=I*K,F=Math.abs(b-g),H=Math.abs(E-J),c=new Object;return c.l=(0-M)*F,c.r=c.l+g,c.t=(0-G)*H,c.b=c.t+J,c.h=M,c.v=G,c},q=function(F,p,E,b,d){var G=F.bgposition.split(" ")||"center center",h="center"==G[0]?"50%":"left"==G[0]||"left"==G[1]?"0%":"right"==G[0]||"right"==G[1]?"100%":G[0],c="center"==G[1]?"50%":"top"==G[0]||"top"==G[1]?"0%":"bottom"==G[0]||"bottom"==G[1]?"100%":G[1];h=parseInt(h,0)/100||0,c=parseInt(c,0)/100||0;var g=new Object;return g.start=y(d.start.width,d.start.height,d.start.scale,p,E,h,c),g.end=y(d.start.width,d.start.height,d.end.scale,p,E,h,c),g},v=function(R,L,P){var l=P.scalestart/100,G=P.scaleend/100,S=void 0!=P.oofsetstart?P.offsetstart.split(" ")||[0,0]:[0,0],H=void 0!=P.offsetend?P.offsetend.split(" ")||[0,0]:[0,0];P.bgposition="center center"==P.bgposition?"50% 50%":P.bgposition;var F=new Object,M=R*l,I=(M/P.owidth*P.oheight,R*G);I/P.owidth*P.oheight;if(F.start=new Object,F.starto=new Object,F.end=new Object,F.endo=new Object,F.start.width=R,F.start.height=F.start.width/P.owidth*P.oheight,F.start.height<L){var E=L/F.start.height;F.start.height=L,F.start.width=F.start.width*E}F.start.transformOrigin=P.bgposition,F.start.scale=l,F.end.scale=G,F.start.rotation=P.rotatestart+"deg",F.end.rotation=P.rotateend+"deg";var J=q(P,R,L,S,F);S[0]=parseFloat(S[0])+J.start.l,H[0]=parseFloat(H[0])+J.end.l,S[1]=parseFloat(S[1])+J.start.t,H[1]=parseFloat(H[1])+J.end.t;var N=J.start.r-J.start.l,O=J.start.b-J.start.t,Q=J.end.r-J.end.l,K=J.end.b-J.end.t;return S[0]=S[0]>0?0:N+S[0]<R?R-N:S[0],H[0]=H[0]>0?0:Q+H[0]<R?R-Q:H[0],S[1]=S[1]>0?0:O+S[1]<L?L-O:S[1],H[1]=H[1]>0?0:K+H[1]<L?L-K:H[1],F.starto.x=S[0]+"px",F.starto.y=S[1]+"px",F.endo.x=H[0]+"px",F.endo.y=H[1]+"px",F.end.ease=F.endo.ease=P.ease,F.end.force3D=F.endo.force3D=!0,F};void 0!=C.data("kbtl")&&(C.data("kbtl").kill(),C.removeData("kbtl"));var j=C.data("kenburn"),w=j.parent(),z=v(u,k,f),A=new punchgs.TimelineLite;A.pause(),z.start.transformOrigin="0% 0%",z.starto.transformOrigin="0% 0%",A.add(punchgs.TweenLite.fromTo(j,f.duration/1000,z.start,z.end),0),A.add(punchgs.TweenLite.fromTo(w,f.duration/1000,z.starto,z.endo),0),A.progress(B),A.play(),C.data("kbtl",A)}})}(jQuery);