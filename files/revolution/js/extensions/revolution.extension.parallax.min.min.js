!function(d){var b=jQuery.fn.revolution,c=b.is_mobile();jQuery.extend(!0,b,{checkForParallax:function(g,f){var h=f.parallax;if(c&&"on"==h.disable_onmobile){return !1}("3D"==h.type||"3d"==h.type)&&(punchgs.TweenLite.set(f.c,{overflow:h.ddd_overflow}),punchgs.TweenLite.set(f.ul,{overflow:h.ddd_overflow}),"carousel"!=f.sliderType&&"on"==h.ddd_shadow&&(f.c.prepend('<div class="dddwrappershadow"></div>'),punchgs.TweenLite.set(f.c.find(".dddwrappershadow"),{force3D:"auto",transformPerspective:1600,transformOrigin:"50% 50%",width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:0}))),f.li.each(function(){var m=jQuery(this);if("3D"==h.type||"3d"==h.type){m.find(".slotholder").wrapAll('<div class="dddwrapper" style="width:100%;height:100%;position:absolute;top:0px;left:0px;overflow:hidden"></div>'),m.find(".tp-parallax-wrap").wrapAll('<div class="dddwrapper-layer" style="width:100%;height:100%;position:absolute;top:0px;left:0px;z-index:5;overflow:'+h.ddd_layer_overflow+';"></div>'),m.find(".rs-parallaxlevel-tobggroup").closest(".tp-parallax-wrap").wrapAll('<div class="dddwrapper-layertobggroup" style="position:absolute;top:0px;left:0px;z-index:50;width:100%;height:100%"></div>');var j=m.find(".dddwrapper"),k=m.find(".dddwrapper-layer"),i=m.find(".dddwrapper-layertobggroup");i.appendTo(j),"carousel"==f.sliderType&&("on"==h.ddd_shadow&&j.addClass("dddwrappershadow"),punchgs.TweenLite.set(j,{borderRadius:f.carousel.border_radius})),punchgs.TweenLite.set(m,{overflow:"visible",transformStyle:"preserve-3d",perspective:1600}),punchgs.TweenLite.set(j,{force3D:"auto",transformOrigin:"50% 50%"}),punchgs.TweenLite.set(k,{force3D:"auto",transformOrigin:"50% 50%",zIndex:5}),punchgs.TweenLite.set(f.ul,{transformStyle:"preserve-3d",transformPerspective:1600})}});for(var a=1;a<=h.levels.length;a++){f.c.find(".rs-parallaxlevel-"+a).each(function(){var j=jQuery(this),i=j.closest(".tp-parallax-wrap");i.data("parallaxlevel",h.levels[a-1]),i.addClass("tp-parallax-container")})}("mouse"==h.type||"scroll+mouse"==h.type||"mouse+scroll"==h.type||"3D"==h.type||"3d"==h.type)&&(g.mouseenter(function(j){var n=g.find(".active-revslide"),m=g.offset().top,p=g.offset().left,e=j.pageX-p,k=j.pageY-m;n.data("enterx",e),n.data("entery",k)}),g.on("mousemove.hoverdir, mouseleave.hoverdir, trigger3dpath",function(x,e){var m=e&&e.li?e.li:g.find(".active-revslide");if("enterpoint"==h.origo){var o=g.offset().top,z=g.offset().left;void 0==m.data("enterx")&&m.data("enterx",x.pageX-z),void 0==m.data("entery")&&m.data("entery",x.pageY-o);var k=m.data("enterx")||x.pageX-z,v=m.data("entery")||x.pageY-o,j=k-(x.pageX-z),w=v-(x.pageY-o),y=h.speed/1000||0.4}else{var o=g.offset().top,z=g.offset().left,j=f.conw/2-(x.pageX-z),w=f.conh/2-(x.pageY-o),y=h.speed/1000||3}"mouseleave"==x.type&&(j=h.ddd_lasth||0,w=h.ddd_lastv||0,y=1.5);var q=[];if(m.find(".tp-parallax-container").each(function(i){q.push(jQuery(this))}),g.find(".tp-static-layers .tp-parallax-container").each(function(){q.push(jQuery(this))}),jQuery.each(q,function(){var u=jQuery(this),n=parseInt(u.data("parallaxlevel"),0),s="3D"==h.type||"3d"==h.type?n/200:n/100,p=j*s,i=w*s;"scroll+mouse"==h.type||"mouse+scroll"==h.type?punchgs.TweenLite.to(u,y,{force3D:"auto",x:p,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(u,y,{force3D:"auto",x:p,y:i,ease:punchgs.Power3.easeOut,overwrite:"all"})}),"3D"==h.type||"3d"==h.type){var t=".tp-revslider-slidesli .dddwrapper, .dddwrappershadow, .tp-revslider-slidesli .dddwrapper-layer";"carousel"===f.sliderType&&(t=".tp-revslider-slidesli .dddwrapper, .tp-revslider-slidesli .dddwrapper-layer"),f.c.find(t).each(function(){var E=jQuery(this),p=h.levels[h.levels.length-1]/200,A=j*p,B=w*p,G=0==f.conw?0:Math.round(j/f.conw*p*100)||0,u=0==f.conh?0:Math.round(w/f.conh*p*100)||0,F=E.closest("li"),C=0,D=!1;E.hasClass("dddwrapper-layer")&&(C=h.ddd_z_correction||65,D=!0),E.hasClass("dddwrapper-layer")&&(A=0,B=0),F.hasClass("active-revslide")||"carousel"!=f.sliderType?"on"!=h.ddd_bgfreeze||D?punchgs.TweenLite.to(E,y,{rotationX:u,rotationY:-G,x:A,z:C,y:B,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(E,0.5,{force3D:"auto",rotationY:0,rotationX:0,z:0,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(E,0.5,{force3D:"auto",rotationY:0,z:0,x:0,y:0,rotationX:0,z:0,ease:punchgs.Power3.easeOut,overwrite:"all"}),"mouseleave"==x.type&&punchgs.TweenLite.to(jQuery(this),3.8,{z:0,ease:punchgs.Power3.easeOut})})}}),c&&(window.ondeviceorientation=function(x){var e=Math.round(x.beta||0)-70,m=Math.round(x.gamma||0),o=g.find(".active-revslide");if(jQuery(window).width()>jQuery(window).height()){var z=m;m=e,e=z}var k=g.width(),v=g.height(),j=360/k*m,w=180/v*e,y=h.speed/1000||3,q=[];if(o.find(".tp-parallax-container").each(function(i){q.push(jQuery(this))}),g.find(".tp-static-layers .tp-parallax-container").each(function(){q.push(jQuery(this))}),jQuery.each(q,function(){var p=jQuery(this),i=parseInt(p.data("parallaxlevel"),0),n=i/100,l=j*n*2,s=w*n*4;punchgs.TweenLite.to(p,y,{force3D:"auto",x:l,y:s,ease:punchgs.Power3.easeOut,overwrite:"all"})}),"3D"==h.type||"3d"==h.type){var t=".tp-revslider-slidesli .dddwrapper, .dddwrappershadow, .tp-revslider-slidesli .dddwrapper-layer";"carousel"===f.sliderType&&(t=".tp-revslider-slidesli .dddwrapper, .tp-revslider-slidesli .dddwrapper-layer"),f.c.find(t).each(function(){var l=jQuery(this),i=h.levels[h.levels.length-1]/200;offsh=j*i,offsv=w*i*3,offrv=0==f.conw?0:Math.round(j/f.conw*i*500)||0,offrh=0==f.conh?0:Math.round(w/f.conh*i*700)||0,li=l.closest("li"),zz=0,itslayer=!1,l.hasClass("dddwrapper-layer")&&(zz=h.ddd_z_correction||65,itslayer=!0),l.hasClass("dddwrapper-layer")&&(offsh=0,offsv=0),li.hasClass("active-revslide")||"carousel"!=f.sliderType?"on"!=h.ddd_bgfreeze||itslayer?punchgs.TweenLite.to(l,y,{rotationX:offrh,rotationY:-offrv,x:offsh,z:zz,y:offsv,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(l,0.5,{force3D:"auto",rotationY:0,rotationX:0,z:0,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(l,0.5,{force3D:"auto",rotationY:0,z:0,x:0,y:0,rotationX:0,z:0,ease:punchgs.Power3.easeOut,overwrite:"all"}),"mouseleave"==x.type&&punchgs.TweenLite.to(jQuery(this),3.8,{z:0,ease:punchgs.Power3.easeOut})})}})),b.scrollTicker(f,g)},scrollTicker:function(f,a){1!=f.scrollTicker&&(f.scrollTicker=!0,c?(punchgs.TweenLite.ticker.fps(150),punchgs.TweenLite.ticker.addEventListener("tick",function(){b.scrollHandling(f)},a,!1,1)):jQuery(window).on("scroll mousewheel DOMMouseScroll",function(){b.scrollHandling(f,!0)})),b.scrollHandling(f,!0)},scrollHandling:function(k,v){function f(l,i){l.lastscrolltop=i}k.lastwindowheight=k.lastwindowheight||jQuery(window).height();var h=k.c.offset().top,j=jQuery(window).scrollTop(),w=new Object,g=k.viewPort,m=k.parallax;if(k.lastscrolltop==j&&!k.duringslidechange&&!v){return !1}punchgs.TweenLite.delayedCall(0.2,f,[k,j]),w.top=h-j,w.h=0==k.conh?k.c.height():k.conh,w.bottom=h-j+w.h;var a=w.top<0?w.top/w.h:w.bottom>k.lastwindowheight?(w.bottom-k.lastwindowheight)/w.h:0;if(k.scrollproc=a,b.callBackHandling&&b.callBackHandling(k,"parallax","start"),g.enable){var q=1-Math.abs(a);q=0>q?0:q,jQuery.isNumeric(g.visible_area)||-1!==g.visible_area.indexOf("%")&&(g.visible_area=parseInt(g.visible_area)/100),1-g.visible_area<=q?k.inviewport||(k.inviewport=!0,b.enterInViewPort(k)):k.inviewport&&(k.inviewport=!1,b.leaveViewPort(k))}if(c&&"on"==k.parallax.disable_onmobile){return !1}var r=new punchgs.TimelineLite;r.pause(),"3d"!=m.type&&"3D"!=m.type&&(("scroll"==m.type||"scroll+mouse"==m.type||"mouse+scroll"==m.type)&&k.c.find(".tp-parallax-container").each(function(e){var l=jQuery(this),i=parseInt(l.data("parallaxlevel"),0)/100,n=a*-(i*k.conh)||0;l.data("parallaxoffset",n),r.add(punchgs.TweenLite.set(l,{force3D:"auto",y:n}),0)}),k.c.find(".tp-revslider-slidesli .slotholder, .tp-revslider-slidesli .rs-background-video-layer").each(function(){var e=jQuery(this),l=e.data("bgparallax")||k.parallax.bgparallax;if(l="on"==l?1:l,void 0!==l||"off"!==l){var i=k.parallax.levels[parseInt(l,0)-1]/100,n=a*-(i*k.conh)||0;jQuery.isNumeric(n)&&r.add(punchgs.TweenLite.set(e,{position:"absolute",top:"0px",left:"0px",backfaceVisibility:"hidden",force3D:"true",y:n+"px"}),0)}})),b.callBackHandling&&b.callBackHandling(k,"parallax","end"),r.play(0)}})}(jQuery);