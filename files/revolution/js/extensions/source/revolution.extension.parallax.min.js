(function(b){var c=jQuery.fn.revolution,a=c.is_mobile();jQuery.extend(true,c,{checkForParallax:function(d,g){var e=g.parallax;if(a&&e.disable_onmobile=="on"){return false}if(e.type=="3D"||e.type=="3d"){punchgs.TweenLite.set(g.c,{overflow:e.ddd_overflow});punchgs.TweenLite.set(g.ul,{overflow:e.ddd_overflow});if(g.sliderType!="carousel"&&e.ddd_shadow=="on"){g.c.prepend('<div class="dddwrappershadow"></div>');punchgs.TweenLite.set(g.c.find(".dddwrappershadow"),{force3D:"auto",transformPerspective:1600,transformOrigin:"50% 50%",width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:0})}}g.li.each(function(){var h=jQuery(this);if(e.type=="3D"||e.type=="3d"){h.find(".slotholder").wrapAll('<div class="dddwrapper" style="width:100%;height:100%;position:absolute;top:0px;left:0px;overflow:hidden"></div>');h.find(".tp-parallax-wrap").wrapAll('<div class="dddwrapper-layer" style="width:100%;height:100%;position:absolute;top:0px;left:0px;z-index:5;overflow:'+e.ddd_layer_overflow+';"></div>');h.find(".rs-parallaxlevel-tobggroup").closest(".tp-parallax-wrap").wrapAll('<div class="dddwrapper-layertobggroup" style="position:absolute;top:0px;left:0px;z-index:50;width:100%;height:100%"></div>');var j=h.find(".dddwrapper"),i=h.find(".dddwrapper-layer"),k=h.find(".dddwrapper-layertobggroup");k.appendTo(j);if(g.sliderType=="carousel"){if(e.ddd_shadow=="on"){j.addClass("dddwrappershadow")}punchgs.TweenLite.set(j,{borderRadius:g.carousel.border_radius})}punchgs.TweenLite.set(h,{overflow:"visible",transformStyle:"preserve-3d",perspective:1600});punchgs.TweenLite.set(j,{force3D:"auto",transformOrigin:"50% 50%"});punchgs.TweenLite.set(i,{force3D:"auto",transformOrigin:"50% 50%",zIndex:5});punchgs.TweenLite.set(g.ul,{transformStyle:"preserve-3d",transformPerspective:1600})}});for(var f=1;f<=e.levels.length;f++){g.c.find(".rs-parallaxlevel-"+f).each(function(){var i=jQuery(this),h=i.closest(".tp-parallax-wrap");h.data("parallaxlevel",e.levels[f-1]);h.addClass("tp-parallax-container")})}if(e.type=="mouse"||e.type=="scroll+mouse"||e.type=="mouse+scroll"||e.type=="3D"||e.type=="3d"){d.mouseenter(function(n){var h=d.find(".active-revslide"),m=d.offset().top,i=d.offset().left,k=(n.pageX-i),j=(n.pageY-m);h.data("enterx",k);h.data("entery",j)});d.on("mousemove.hoverdir, mouseleave.hoverdir, trigger3dpath",function(i,m){var j=m&&m.li?m.li:d.find(".active-revslide");if(e.origo=="enterpoint"){var q=d.offset().top,k=d.offset().left;if(j.data("enterx")==undefined){j.data("enterx",(i.pageX-k))}if(j.data("entery")==undefined){j.data("entery",(i.pageY-q))}var o=j.data("enterx")||(i.pageX-k),r=j.data("entery")||(i.pageY-q),h=(o-(i.pageX-k)),n=(r-(i.pageY-q)),v=e.speed/1000||0.4}else{var q=d.offset().top,k=d.offset().left,h=(g.conw/2-(i.pageX-k)),n=(g.conh/2-(i.pageY-q)),v=e.speed/1000||3}if(i.type=="mouseleave"){h=e.ddd_lasth||0;n=e.ddd_lastv||0;v=1.5}var u=[];j.find(".tp-parallax-container").each(function(l){u.push(jQuery(this))});d.find(".tp-static-layers .tp-parallax-container").each(function(){u.push(jQuery(this))});jQuery.each(u,function(){var s=jQuery(this),x=parseInt(s.data("parallaxlevel"),0),t=e.type=="3D"||e.type=="3d"?x/200:x/100,l=h*t,w=n*t;if(e.type=="scroll+mouse"||e.type=="mouse+scroll"){punchgs.TweenLite.to(s,v,{force3D:"auto",x:l,ease:punchgs.Power3.easeOut,overwrite:"all"})}else{punchgs.TweenLite.to(s,v,{force3D:"auto",x:l,y:w,ease:punchgs.Power3.easeOut,overwrite:"all"})}});if(e.type=="3D"||e.type=="3d"){var p=".tp-revslider-slidesli .dddwrapper, .dddwrappershadow, .tp-revslider-slidesli .dddwrapper-layer";if(g.sliderType==="carousel"){p=".tp-revslider-slidesli .dddwrapper, .tp-revslider-slidesli .dddwrapper-layer"}g.c.find(p).each(function(){var C=jQuery(this),w=e.levels[e.levels.length-1]/200,x=h*w,z=n*w,l=g.conw==0?0:Math.round((h/g.conw*w)*100)||0,y=g.conh==0?0:Math.round((n/g.conh*w)*100)||0,B=C.closest("li"),s=0,A=false;if(C.hasClass("dddwrapper-layer")){s=e.ddd_z_correction||65;A=true}if(C.hasClass("dddwrapper-layer")){x=0;z=0}if(B.hasClass("active-revslide")||g.sliderType!="carousel"){if(e.ddd_bgfreeze!="on"||(A)){punchgs.TweenLite.to(C,v,{rotationX:y,rotationY:-l,x:x,z:s,y:z,ease:punchgs.Power3.easeOut,overwrite:"all"})}else{punchgs.TweenLite.to(C,0.5,{force3D:"auto",rotationY:0,rotationX:0,z:0,ease:punchgs.Power3.easeOut,overwrite:"all"})}}else{punchgs.TweenLite.to(C,0.5,{force3D:"auto",rotationY:0,z:0,x:0,y:0,rotationX:0,z:0,ease:punchgs.Power3.easeOut,overwrite:"all"})}if(i.type=="mouseleave"){punchgs.TweenLite.to(jQuery(this),3.8,{z:0,ease:punchgs.Power3.easeOut})}})}});if(a){window.ondeviceorientation=function(k){var o=Math.round(k.beta||0)-70,p=Math.round(k.gamma||0);var l=d.find(".active-revslide");if(jQuery(window).width()>jQuery(window).height()){var h=p;p=o;o=h}var m=d.width(),i=d.height(),j=(360/m*p),n=(180/i*o),t=e.speed/1000||3,r=[];l.find(".tp-parallax-container").each(function(s){r.push(jQuery(this))});d.find(".tp-static-layers .tp-parallax-container").each(function(){r.push(jQuery(this))});jQuery.each(r,function(){var u=jQuery(this),x=parseInt(u.data("parallaxlevel"),0),v=x/100,s=j*v*2,w=n*v*4;punchgs.TweenLite.to(u,t,{force3D:"auto",x:s,y:w,ease:punchgs.Power3.easeOut,overwrite:"all"})});if(e.type=="3D"||e.type=="3d"){var q=".tp-revslider-slidesli .dddwrapper, .dddwrappershadow, .tp-revslider-slidesli .dddwrapper-layer";if(g.sliderType==="carousel"){q=".tp-revslider-slidesli .dddwrapper, .tp-revslider-slidesli .dddwrapper-layer"}g.c.find(q).each(function(){var s=jQuery(this),u=e.levels[e.levels.length-1]/200;offsh=j*u,offsv=n*u*3,offrv=g.conw==0?0:Math.round((j/g.conw*u)*500)||0,offrh=g.conh==0?0:Math.round((n/g.conh*u)*700)||0,li=s.closest("li"),zz=0,itslayer=false;if(s.hasClass("dddwrapper-layer")){zz=e.ddd_z_correction||65;itslayer=true}if(s.hasClass("dddwrapper-layer")){offsh=0;offsv=0}if(li.hasClass("active-revslide")||g.sliderType!="carousel"){if(e.ddd_bgfreeze!="on"||(itslayer)){punchgs.TweenLite.to(s,t,{rotationX:offrh,rotationY:-offrv,x:offsh,z:zz,y:offsv,ease:punchgs.Power3.easeOut,overwrite:"all"})}else{punchgs.TweenLite.to(s,0.5,{force3D:"auto",rotationY:0,rotationX:0,z:0,ease:punchgs.Power3.easeOut,overwrite:"all"})}}else{punchgs.TweenLite.to(s,0.5,{force3D:"auto",rotationY:0,z:0,x:0,y:0,rotationX:0,z:0,ease:punchgs.Power3.easeOut,overwrite:"all"})}if(k.type=="mouseleave"){punchgs.TweenLite.to(jQuery(this),3.8,{z:0,ease:punchgs.Power3.easeOut})}})}}}}c.scrollTicker(g,d)},scrollTicker:function(e,d){var f;if(e.scrollTicker!=true){e.scrollTicker=true;if(a){punchgs.TweenLite.ticker.fps(150);punchgs.TweenLite.ticker.addEventListener("tick",function(){c.scrollHandling(e)},d,false,1)}else{jQuery(window).on("scroll mousewheel DOMMouseScroll",function(){c.scrollHandling(e,true)})}}c.scrollHandling(e,true)},scrollHandling:function(e,i){e.lastwindowheight=e.lastwindowheight||jQuery(window).height();var l=e.c.offset().top,m=jQuery(window).scrollTop(),h=new Object(),j=e.viewPort,k=e.parallax;if(e.lastscrolltop==m&&!e.duringslidechange&&!i){return false}function f(p,o){p.lastscrolltop=o}punchgs.TweenLite.delayedCall(0.2,f,[e,m]);h.top=(l-m);h.h=e.conh==0?e.c.height():e.conh;h.bottom=(l-m)+h.h;var g=h.top<0?h.top/h.h:h.bottom>e.lastwindowheight?(h.bottom-e.lastwindowheight)/h.h:0;e.scrollproc=g;if(c.callBackHandling){c.callBackHandling(e,"parallax","start")}if(j.enable){var d=1-Math.abs(g);d=d<0?0:d;if(!jQuery.isNumeric(j.visible_area)){if(j.visible_area.indexOf("%")!==-1){j.visible_area=parseInt(j.visible_area)/100}}if(1-j.visible_area<=d){if(!e.inviewport){e.inviewport=true;c.enterInViewPort(e)}}else{if(e.inviewport){e.inviewport=false;c.leaveViewPort(e)}}}if(a&&e.parallax.disable_onmobile=="on"){return false}var n=new punchgs.TimelineLite();n.pause();if(k.type!="3d"&&k.type!="3D"){if(k.type=="scroll"||k.type=="scroll+mouse"||k.type=="mouse+scroll"){e.c.find(".tp-parallax-container").each(function(p){var o=jQuery(this),q=parseInt(o.data("parallaxlevel"),0)/100,r=g*-(q*e.conh)||0;o.data("parallaxoffset",r);n.add(punchgs.TweenLite.set(o,{force3D:"auto",y:r}),0)})}e.c.find(".tp-revslider-slidesli .slotholder, .tp-revslider-slidesli .rs-background-video-layer").each(function(){var p=jQuery(this),o=p.data("bgparallax")||e.parallax.bgparallax;o=o=="on"?1:o;if(o!==undefined||o!=="off"){var q=e.parallax.levels[parseInt(o,0)-1]/100,r=g*-(q*e.conh)||0;if(jQuery.isNumeric(r)){n.add(punchgs.TweenLite.set(p,{position:"absolute",top:"0px",left:"0px",backfaceVisibility:"hidden",force3D:"true",y:r+"px"}),0)}}})}if(c.callBackHandling){c.callBackHandling(e,"parallax","end")}n.play(0)}})})(jQuery);