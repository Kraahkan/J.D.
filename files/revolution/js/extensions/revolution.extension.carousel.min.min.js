!function(){var j=jQuery.fn.revolution;jQuery.extend(!0,j,{prepareCarousel:function(e,a,m){m=e.carousel.lastdirection=c(m,e.carousel.lastdirection),d(e),e.carousel.slide_offset_target=h(e),void 0==a?j.carouselToEvalPosition(e,m):g(e,m,!1)},carouselToEvalPosition:function(q,w){var p=q.carousel;w=p.lastdirection=c(w,p.lastdirection);var e="center"===p.horizontal_align?(p.wrapwidth/2-p.slide_width/2-p.slide_globaloffset)/p.slide_width:(0-p.slide_globaloffset)/p.slide_width,a=j.simp(e,q.slideamount,!1),m=a-Math.floor(a),v=0,u=-1*(Math.ceil(a)-a),s=-1*(Math.floor(a)-a);v=m>=0.3&&"left"===w||m>=0.7&&"right"===w?u:0.3>m&&"left"===w||0.7>m&&"right"===w?s:v,v="off"===p.infinity?0>a?a:e>q.slideamount-1?e-(q.slideamount-1):v:v,p.slide_offset_target=v*p.slide_width,0!==Math.abs(p.slide_offset_target)?g(q,w,!0):j.organiseCarousel(q,w)},organiseCarousel:function(x,v,A,z){v=void 0===v||"down"==v||"up"==v||null===v||jQuery.isEmptyObject(v)?"left":v;for(var B=x.carousel,u=new Array,p=B.slides.length,m="right"===B.horizontal_align?m=x.width:0,q=0;p>q;q++){var y=q*B.slide_width+B.slide_offset;"on"===B.infinity&&(y=y>B.wrapwidth-B.inneroffset&&"right"==v?B.slide_offset-(B.slides.length-q)*B.slide_width:y,y=y<0-B.inneroffset-B.slide_width&&"left"==v?y+B.maxwidth:y),u[q]=y}var w=999;B.slides&&jQuery.each(B.slides,function(i,o){var C=u[i];"on"===B.infinity&&(C=C>B.wrapwidth-B.inneroffset&&"left"===v?u[0]-(p-i)*B.slide_width:C,C=C<0-B.inneroffset-B.slide_width?"left"==v?C+B.maxwidth:"right"===v?u[p-1]+(i+1)*B.slide_width:C:C);var s=new Object;s.left=C+B.inneroffset;var l="center"===B.horizontal_align?(Math.abs(B.wrapwidth/2)-(s.left+B.slide_width/2))/B.slide_width:(B.inneroffset-s.left)/B.slide_width,e="center"===B.horizontal_align?2:1;if((A&&Math.abs(l)<w||0===l)&&(w=Math.abs(l),B.focused=i),s.width=B.slide_width,s.x=0,s.transformPerspective=1200,s.transformOrigin="50% "+B.vertical_align,"on"===B.fadeout){if("on"===B.vary_fade){s.autoAlpha=1-Math.abs(1/Math.ceil(B.maxVisibleItems/e)*l)}else{switch(B.horizontal_align){case"center":s.autoAlpha=Math.abs(l)<Math.ceil(B.maxVisibleItems/e-1)?1:1-(Math.abs(l)-Math.floor(Math.abs(l)));break;case"left":s.autoAlpha=1>l&&l>0?1-l:Math.abs(l)>B.maxVisibleItems-1?1-(Math.abs(l)-(B.maxVisibleItems-1)):1;break;case"right":s.autoAlpha=l>-1&&0>l?1-Math.abs(l):l>B.maxVisibleItems-1?1-(Math.abs(l)-(B.maxVisibleItems-1)):1}}}else{s.autoAlpha=Math.abs(l)<Math.ceil(B.maxVisibleItems/e)?1:0}if(void 0!==B.minScale&&B.minScale>0){if("on"===B.vary_scale){s.scale=1-Math.abs(B.minScale/100/Math.ceil(B.maxVisibleItems/e)*l);var t=(B.slide_width-B.slide_width*s.scale)*Math.abs(l)}else{s.scale=l>=1||-1>=l?1-B.minScale/100:(100-B.minScale*Math.abs(l))/100;var t=(B.slide_width-B.slide_width*(1-B.minScale/100))*Math.abs(l)}}void 0!==B.maxRotation&&0!=Math.abs(B.maxRotation)&&("on"===B.vary_rotation?(s.rotationY=Math.abs(B.maxRotation)-Math.abs((1-Math.abs(1/Math.ceil(B.maxVisibleItems/e)*l))*B.maxRotation),s.autoAlpha=Math.abs(s.rotationY)>90?0:s.autoAlpha):s.rotationY=l>=1||-1>=l?B.maxRotation:Math.abs(l)*B.maxRotation,s.rotationY=0>l?-1*s.rotationY:s.rotationY),s.x=-1*B.space*l,s.left=Math.floor(s.left),s.x=Math.floor(s.x),void 0!==s.scale?0>l?s.x-t:s.x+t:s.x,s.zIndex=Math.round(100-Math.abs(5*l)),s.transformStyle="3D"!=x.parallax.type&&"3d"!=x.parallax.type?"flat":"preserve-3d",punchgs.TweenLite.set(o,s)}),z&&(x.c.find(".next-revslide").removeClass("next-revslide"),jQuery(B.slides[B.focused]).addClass("next-revslide"),x.c.trigger("revolution.nextslide.waiting"));B.wrapwidth/2-B.slide_offset,B.maxwidth+B.slide_offset-B.wrapwidth/2}});var f=function(l){var a=l.carousel;a.infbackup=a.infinity,a.maxVisiblebackup=a.maxVisibleItems,a.slide_globaloffset="none",a.slide_offset=0,a.wrap=l.c.find(".tp-carousel-wrapper"),a.slides=l.c.find(".tp-revslider-slidesli"),0!==a.maxRotation&&("3D"!=l.parallax.type&&"3d"!=l.parallax.type?punchgs.TweenLite.set(a.wrap,{perspective:1200,transformStyle:"flat"}):punchgs.TweenLite.set(a.wrap,{perspective:1600,transformStyle:"preserve-3d"})),void 0!==a.border_radius&&parseInt(a.border_radius,0)>0&&punchgs.TweenLite.set(l.c.find(".tp-revslider-slidesli"),{borderRadius:a.border_radius})},d=function(m){void 0===m.bw&&j.setSize(m);var i=m.carousel,n=j.getHorizontalOffset(m.c,"left"),e=j.getHorizontalOffset(m.c,"right");void 0===i.wrap&&f(m),i.slide_width="on"!==i.stretch?m.gridwidth[m.curWinRange]*m.bw:m.c.width(),i.maxwidth=m.slideamount*i.slide_width,i.maxVisiblebackup>i.slides.length+1&&(i.maxVisibleItems=i.slides.length+2),i.wrapwidth=i.maxVisibleItems*i.slide_width+(i.maxVisibleItems-1)*i.space,i.wrapwidth="auto"!=m.sliderLayout?i.wrapwidth>m.c.closest(".tp-simpleresponsive").width()?m.c.closest(".tp-simpleresponsive").width():i.wrapwidth:i.wrapwidth>m.ul.width()?m.ul.width():i.wrapwidth,i.infinity=i.wrapwidth>=i.maxwidth?"off":i.infbackup,i.wrapoffset="center"===i.horizontal_align?(m.c.width()-e-n-i.wrapwidth)/2:0,i.wrapoffset="auto"!=m.sliderLayout&&m.outernav?0:i.wrapoffset<n?n:i.wrapoffset;var p="hidden";("3D"==m.parallax.type||"3d"==m.parallax.type)&&(p="visible"),"right"===i.horizontal_align?punchgs.TweenLite.set(i.wrap,{left:"auto",right:i.wrapoffset+"px",width:i.wrapwidth,overflow:p}):punchgs.TweenLite.set(i.wrap,{right:"auto",left:i.wrapoffset+"px",width:i.wrapwidth,overflow:p}),i.inneroffset="right"===i.horizontal_align?i.wrapwidth-i.slide_width:0,i.realoffset=Math.abs(i.wrap.position().left),i.windhalf=jQuery(window).width()/2},c=function(l,a){return null===l||jQuery.isEmptyObject(l)?a:void 0===l?"right":l},g=function(m,e,n){var a=m.carousel;e=a.lastdirection=c(e,a.lastdirection);var p=new Object;p.from=0,p.to=a.slide_offset_target,void 0!==a.positionanim&&a.positionanim.pause(),a.positionanim=punchgs.TweenLite.to(p,1.2,{from:p.to,onUpdate:function(){a.slide_offset=a.slide_globaloffset+p.from,a.slide_offset=j.simp(a.slide_offset,a.maxwidth),j.organiseCarousel(m,e,!1,!1)},onComplete:function(){a.slide_globaloffset="off"===a.infinity?a.slide_globaloffset+a.slide_offset_target:j.simp(a.slide_globaloffset+a.slide_offset_target,a.maxwidth),a.slide_offset=j.simp(a.slide_offset,a.maxwidth),j.organiseCarousel(m,e,!1,!0);var i=jQuery(m.li[a.focused]);m.c.find(".next-revslide").removeClass("next-revslide"),n&&j.callingNewSlide(m,m.c,i.data("index"))},ease:punchgs.Expo.easeOut})},b=function(l,a){return Math.abs(l)>Math.abs(a)?l>0?l-Math.abs(Math.floor(l/a)*a):l+Math.abs(Math.floor(l/a)*a):l},k=function(p,n,m){var m,m,l=n-p,o=n-m-p;return l=b(l,m),o=b(o,m),Math.abs(l)>Math.abs(o)?o:l},h=function(o){var n=0,m=o.carousel;if(void 0!==m.positionanim&&m.positionanim.kill(),"none"==m.slide_globaloffset){m.slide_globaloffset=n="center"===m.horizontal_align?m.wrapwidth/2-m.slide_width/2:0}else{m.slide_globaloffset=m.slide_offset,m.slide_offset=0;var p=o.c.find(".processing-revslide").index(),e="center"===m.horizontal_align?(m.wrapwidth/2-m.slide_width/2-m.slide_globaloffset)/m.slide_width:(0-m.slide_globaloffset)/m.slide_width;e=j.simp(e,o.slideamount,!1),p=p>=0?p:o.c.find(".active-revslide").index(),p=p>=0?p:0,n="off"===m.infinity?e-p:-k(e,p,o.slideamount),n*=m.slide_width}return n}}(jQuery);